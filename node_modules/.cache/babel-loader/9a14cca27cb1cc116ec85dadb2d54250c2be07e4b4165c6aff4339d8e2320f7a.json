{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useTypingSpeed = (input, startTime, text) => {\n  _s();\n  const [wpm, setWpm] = useState(0);\n  const [errors, setErrors] = useState(0);\n  const [isTimeUp, setIsTimeUp] = useState(false);\n  useEffect(() => {\n    if (startTime) {\n      const interval = setInterval(() => {\n        const elapsed = (Date.now() - startTime) / 1000; // время в секундах\n        if (elapsed >= 30) {\n          setIsTimeUp(true);\n          clearInterval(interval);\n        }\n      }, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [startTime]);\n  useEffect(() => {\n    if (input.length > 0 && isTimeUp) {\n      const wordsTyped = input.split(' ').length;\n      setWpm(Math.round(wordsTyped / 30 * 60)); // Используем 30 секунд для расчета WPM\n      setErrors(input.split('').filter((char, index) => char !== text[index]).length);\n    } else if (input.length > 0 && startTime && !isTimeUp) {\n      // Подсчет ошибок в реальном времени\n      setErrors(input.split('').filter((char, index) => char !== text[index]).length);\n    }\n  }, [input, isTimeUp, startTime, text]);\n  return {\n    wpm,\n    errors,\n    isTimeUp\n  };\n};\n_s(useTypingSpeed, \"Ugsty/2CSx5jtKyculOliR9WODI=\");\nexport default useTypingSpeed;","map":{"version":3,"names":["useState","useEffect","useTypingSpeed","input","startTime","text","_s","wpm","setWpm","errors","setErrors","isTimeUp","setIsTimeUp","interval","setInterval","elapsed","Date","now","clearInterval","length","wordsTyped","split","Math","round","filter","char","index"],"sources":["C:/Users/kol/Desktop/dela/tests/typing_speed_trainer/src/hooks/useTypingSpeed.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst useTypingSpeed = (input, startTime, text) => {\r\n  const [wpm, setWpm] = useState(0);\r\n  const [errors, setErrors] = useState(0);\r\n  const [isTimeUp, setIsTimeUp] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (startTime) {\r\n      const interval = setInterval(() => {\r\n        const elapsed = (Date.now() - startTime) / 1000; // время в секундах\r\n        if (elapsed >= 30) {\r\n          setIsTimeUp(true);\r\n          clearInterval(interval);\r\n        }\r\n      }, 1000);\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [startTime]);\r\n\r\n  useEffect(() => {\r\n    if (input.length > 0 && isTimeUp) {\r\n      const wordsTyped = input.split(' ').length;\r\n      setWpm(Math.round((wordsTyped / 30) * 60)); // Используем 30 секунд для расчета WPM\r\n      setErrors(input.split('').filter((char, index) => char !== text[index]).length);\r\n    } else if (input.length > 0 && startTime && !isTimeUp) {\r\n      // Подсчет ошибок в реальном времени\r\n      setErrors(input.split('').filter((char, index) => char !== text[index]).length);\r\n    }\r\n  }, [input, isTimeUp, startTime, text]);\r\n\r\n  return { wpm, errors, isTimeUp };\r\n};\r\n\r\nexport default useTypingSpeed;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,cAAc,GAAGA,CAACC,KAAK,EAAEC,SAAS,EAAEC,IAAI,KAAK;EAAAC,EAAA;EACjD,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EACjC,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE/CC,SAAS,CAAC,MAAM;IACd,IAAIG,SAAS,EAAE;MACb,MAAMS,QAAQ,GAAGC,WAAW,CAAC,MAAM;QACjC,MAAMC,OAAO,GAAG,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGb,SAAS,IAAI,IAAI,CAAC,CAAC;QACjD,IAAIW,OAAO,IAAI,EAAE,EAAE;UACjBH,WAAW,CAAC,IAAI,CAAC;UACjBM,aAAa,CAACL,QAAQ,CAAC;QACzB;MACF,CAAC,EAAE,IAAI,CAAC;MAER,OAAO,MAAMK,aAAa,CAACL,QAAQ,CAAC;IACtC;EACF,CAAC,EAAE,CAACT,SAAS,CAAC,CAAC;EAEfH,SAAS,CAAC,MAAM;IACd,IAAIE,KAAK,CAACgB,MAAM,GAAG,CAAC,IAAIR,QAAQ,EAAE;MAChC,MAAMS,UAAU,GAAGjB,KAAK,CAACkB,KAAK,CAAC,GAAG,CAAC,CAACF,MAAM;MAC1CX,MAAM,CAACc,IAAI,CAACC,KAAK,CAAEH,UAAU,GAAG,EAAE,GAAI,EAAE,CAAC,CAAC,CAAC,CAAC;MAC5CV,SAAS,CAACP,KAAK,CAACkB,KAAK,CAAC,EAAE,CAAC,CAACG,MAAM,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAKD,IAAI,KAAKpB,IAAI,CAACqB,KAAK,CAAC,CAAC,CAACP,MAAM,CAAC;IACjF,CAAC,MAAM,IAAIhB,KAAK,CAACgB,MAAM,GAAG,CAAC,IAAIf,SAAS,IAAI,CAACO,QAAQ,EAAE;MACrD;MACAD,SAAS,CAACP,KAAK,CAACkB,KAAK,CAAC,EAAE,CAAC,CAACG,MAAM,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAKD,IAAI,KAAKpB,IAAI,CAACqB,KAAK,CAAC,CAAC,CAACP,MAAM,CAAC;IACjF;EACF,CAAC,EAAE,CAAChB,KAAK,EAAEQ,QAAQ,EAAEP,SAAS,EAAEC,IAAI,CAAC,CAAC;EAEtC,OAAO;IAAEE,GAAG;IAAEE,MAAM;IAAEE;EAAS,CAAC;AAClC,CAAC;AAACL,EAAA,CA/BIJ,cAAc;AAiCpB,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}